# Документация по обновлениям Overthrow

## Обзор
Этот документ содержит полную информацию для планирования, выполнения и документирования обновлений проекта Overthrow для Arma Reforger.

## Структура обновлений

### Типы обновлений

#### 1. Патчи (Patch Updates) - x.x.1
- Исправления критических ошибок
- Балансировка игрового процесса
- Мелкие исправления интерфейса
- Совместимость с новыми версиями Arma Reforger

#### 2. Минорные обновления (Minor Updates) - x.1.x
- Новые функции и механики
- Новый контент (карты, миссии, предметы)
- Улучшения интерфейса
- Оптимизация производительности

#### 3. Мажорные обновления (Major Updates) - 1.x.x
- Кардинальные изменения архитектуры
- Новые игровые режимы
- Масштабные переработки систем
- Breaking changes в API

## Процесс подготовки обновления

### 1. Планирование

#### Анализ текущего состояния
```bash
# Проверка состояния репозитория
git status
git log --oneline -10

# Анализ изменений с последнего релиза
git diff HEAD~10..HEAD --stat
```

#### Составление списка изменений
1. **Новые функции** - описание добавленного функционала
2. **Исправления ошибок** - список закрытых issues
3. **Улучшения** - оптимизации и улучшения UX
4. **Breaking changes** - изменения, нарушающие совместимость
5. **Известные проблемы** - нерешенные issues

### 2. Тестирование

#### Pre-release чеклист
- [ ] Компиляция без ошибок в Arma Reforger Workbench
- [ ] Загрузка тестового мира `OVT_Campaign_Test.ent`
- [ ] Проверка всех новых функций
- [ ] Тестирование мультиплеера
- [ ] Проверка сохранения/загрузки
- [ ] Тестирование производительности

#### Тестовые сценарии
1. **Основной геймплей**
   - Создание нового персонажа
   - Базовые механики выживания
   - Взаимодействие с NPC
   - Система прогрессии

2. **Новые функции**
   - Каждая новая функция должна быть протестирована
   - Интеграция с существующими системами
   - Граничные случаи и обработка ошибок

3. **Регрессионное тестирование**
   - Проверка, что старые функции работают корректно
   - Совместимость с существующими сохранениями
   - Производительность не деградировала

### 3. Документация изменений

#### Changelog Template
```markdown
## [Версия] - YYYY-MM-DD

### Добавлено
- Новая функция X
- Новый контент Y

### Изменено
- Улучшена система Z
- Переработан интерфейс W

### Исправлено
- Исправлена ошибка #123
- Решена проблема с производительностью

### Удалено
- Устаревшая функция A
- Неиспользуемые ресурсы

### Технические изменения
- Обновлена архитектура компонентов
- Улучшена система сохранения
```

## Процедура выпуска обновления

### 1. Подготовка релиза

#### Финализация кода
```bash
# Убедиться, что все изменения зафиксированы
git add .
git commit -m "Final changes for version X.X.X"

# Создать тег релиза
git tag -a vX.X.X -m "Release version X.X.X"
git push origin vX.X.X
```

#### Обновление документации
1. Обновить `README.md` с новой информацией
2. Обновить wiki если необходимо
3. Создать release notes
4. Обновить версию в `addon.gproj`

### 2. Публикация

#### Steam Workshop
1. Открыть Arma Reforger Workbench
2. Загрузить проект `addon.gproj`
3. Компилировать проект (Build > Compile and Reload Scripts)
4. Использовать встроенные инструменты для публикации в Workshop
5. Обновить описание мода с новыми изменениями

#### GitHub Release
1. Создать новый release на GitHub
2. Загрузить скомпилированные файлы (если необходимо)
3. Добавить подробные release notes
4. Пометить как pre-release если это бета-версия

### 3. Пост-релизные действия

#### Мониторинг
- Отслеживать новые issue в GitHub
- Мониторить Discord для обратной связи
- Проверять Workshop на комментарии и оценки

#### Быстрые исправления
Если обнаружены критические ошибки:
1. Создать hotfix ветку
2. Исправить проблему
3. Выпустить patch-версию

## Структура файлов проекта

### Основные директории
```
Overthrow/
├── Scripts/Game/          # Основные скрипты игры
├── UI/                    # Пользовательский интерфейс
├── Prefabs/              # Игровые объекты
├── Worlds/               # Карты и миссии
├── Configs/              # Конфигурационные файлы
├── Language/             # Локализация
├── docs/                 # Документация
└── .github/              # GitHub workflows
```

### Критические файлы
- `addon.gproj` - основной файл проекта
- `README.md` - главная документация
- `folderstructure.txt` - структура проекта
- `CLAUDE.md.example` - документация для разработчиков

## Система версионирования

### Semantic Versioning
Используется семантическое версионирование (MAJOR.MINOR.PATCH):

- **MAJOR** - несовместимые изменения API
- **MINOR** - добавление функциональности с сохранением совместимости  
- **PATCH** - исправления ошибок с сохранением совместимости

### Ветвление
- `main` - стабильная ветка для релизов
- `develop` - активная разработка
- `feature/название` - новые функции
- `hotfix/название` - критические исправления

## Локализация

### Поддерживаемые языки
- English (en_us) - базовый язык
- Русский (ru_ru)
- Українська (uk_ua)
- Français (fr_fr)
- 한국어 (ko_kr)
- 中文 (zh_cn)

### Процесс обновления локализации
1. Обновить базовые строки в `localization_Overthrow.st`
2. Создать переводы для всех поддерживаемых языков
3. Протестировать корректность отображения в игре

## Интеграция с внешними системами

### Discord
- Уведомления о новых релизах в канале `#overthrow-reforger`
- Сбор обратной связи от сообщества
- Координация с бета-тестерами

### Wiki
- Обновление документации по геймплею
- Добавление информации о новых функциях
- Руководства для разработчиков

## Troubleshooting

### Частые проблемы при обновлениях

#### Проблемы компиляции
```
Error: Cannot find class 'OVT_SomeClass'
```
**Решение**: Проверить зависимости и порядок загрузки модулей

#### Проблемы совместимости
- Проверить совместимость с текущей версией Arma Reforger
- Убедиться, что все зависимости обновлены
- Протестировать на чистой установке

#### Проблемы производительности
- Использовать профилировщик для выявления узких мест
- Оптимизировать ресурсоемкие операции
- Тестировать на различном железе

## Контакты и ресурсы

- **GitHub**: https://github.com/ArmaOverthrow/Overthrow.Arma4
- **Discord**: https://discord.gg/j6CvmFfZ95
- **Wiki**: https://wiki.armaoverthrow.com/
- **Steam Workshop**: https://reforger.armaplatform.com/workshop/59B657D731E2A11D

## Шаблоны для обновлений

### Шаблон объявления обновления
```markdown
# 🚀 Обновление Overthrow vX.X.X

## Основные изменения
- [Краткое описание главных изменений]

## Что нового
- [Список новых функций]

## Исправления
- [Список исправленных ошибок]

## Для разработчиков
- [Технические изменения]
- [Обновления API]

## Как обновиться
1. Откройте GitHub Desktop
2. Нажмите "Fetch Origin" и "Pull Remote"
3. В Reforger Script Editor: Build > Compile and Reload Scripts

Полные release notes: [ссылка на GitHub]
```

### Шаблон технического changelog
```markdown
## Технические изменения v.X.X.X

### Архитектура
- [ ] Изменения в Manager Components
- [ ] Обновления Controller Components
- [ ] Модификации системы сохранения

### API Changes
- [ ] Новые методы
- [ ] Устаревшие методы
- [ ] Breaking changes

### Производительность
- [ ] Оптимизации
- [ ] Профилирование
- [ ] Бенчмарки

### Совместимость
- [ ] Arma Reforger версия
- [ ] Зависимости
- [ ] Моды
```

---

*Документ создан: [ДАТА]*  
*Последнее обновление: [ДАТА]*  
*Версия документа: 1.0*